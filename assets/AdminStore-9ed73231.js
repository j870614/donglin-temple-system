import{A as d,P as o}from"./index-8954a36c.js";import{a as c}from"./SweetAlert-183ed47c.js";const{VITE_BASEURL:r}={VITE_BASEURL:"https://donglin-temple-backend-00pk.onrender.com/api",BASE_URL:"/donglin-temple-system/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},l=d("adminStore",{state:()=>({adminStatus:[],qrcode:"",managers:[]}),actions:{async getAuthStatus(){const a=`${r}/managers/qrcode/status`;try{const e=await o.get(a);this.adminStatus=e.data.data.data}catch(e){console.log(e)}},async createdQR(a){const e=`${r}/managers/qrcode`,t={AuthorizeUserId:JSON.parse(sessionStorage.user).Id,UserId:a.UserId,DeaconName:a.DeaconName,ChurchName:a.ChurchName};this.qrcode="";try{const s=await o.post(e,t);this.getAuthStatus(),this.qrcode=s.data.data.qrcode}catch(s){console.log(s),c.fire({icon:"error",title:s.response.data.message})}},async patchAuth(a,e){console.log(a);try{const t=`${r}/managers/auth`,s={UserId:a.UserId,ChurchName:a.ChurchName,DeaconName:a.DeaconName,IsActive:e},n=await o.patch(t,s);console.log(n)}catch(t){console.log(t),c.fire({icon:"error",title:t.response.data.message})}},async getManagers(){const a=`${r}/managers`;try{const e=await o.get(a);this.managers=e.data.data.managers,console.log(e)}catch(e){console.log(e)}}}});export{l as A};
